generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Usuario {
  id                Int      @id @default(autoincrement())
  nome              String
  sobrenome         String
  email             String   @unique
  password          String
  rua               String
  numero            String
  bairro            String
  cidade            String
  uf                String
  isAdmin           Boolean  @default(false)
  dataCadastro      DateTime @default(now())
  ultimaAtualizacao DateTime @updatedAt

  reservas Reserva[]
}

model Mesa {
  id         Int     @id @default(autoincrement())
  numero     String
  capacidade Int
  descricao  String?

  reservas   Reserva[]
}

model Reserva {
  id         Int      @id @default(autoincrement())
  data       DateTime
  n_pessoas  Int
  mesaId     Int
  usuarioId  Int

  mesa       Mesa     @relation(fields: [mesaId], references: [id])
  usuario    Usuario  @relation(fields: [usuarioId], references: [id])
}